(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{189:function(t,e,n){},191:function(t,e,n){},193:function(t,e,n){},195:function(t,e,n){},197:function(t,e,n){},199:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(87),i=n(14),o=n(15),u=(n(188),n(91)),d=n(7),l=n(17),s=n(93),m={isVisible:!1,addedIds:[],quantityById:{}},p=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.addedIds,n=arguments.length>1?arguments[1]:void 0,a=n.productId,r=e.addedIds.indexOf(a);switch(n.type){case"ADD_TO_CART":return-1!==r?e.addedIds:[].concat(Object(s.a)(e.addedIds),[a]);case"REMOVE_FROM_CART":var c=n.hasOwnProperty("quantity");return-1!==r&&(c&&0===n.quantity||v(e,a)<=1)?e.addedIds.filter(function(t,e){return e!==r}):e.addedIds;case"UPDATE_CART_QUANTITY":return n.quantity>0?t(e,Object(d.a)({},n,{type:"ADD_TO_CART"})):t(e,Object(d.a)({},n,{type:"REMOVE_FROM_CART"}));default:return e.addedIds}},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.quantityById,e=arguments.length>1?arguments[1]:void 0,n=e.productId;switch(e.type){case"ADD_TO_CART":return Object(d.a)({},t,Object(l.a)({},n,(t[n]||0)+1));case"REMOVE_FROM_CART":return t[n]&&(t[n]--,0===t[n]&&delete t[n]),t;case"UPDATE_CART_QUANTITY":return e.quantity>0?Object(d.a)({},t,Object(l.a)({},n,e.quantity)):(delete t[n],t);default:return t}},v=function(t,e){return t.quantityById[e]||0},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_CART_VISIBILITY":return Object(d.a)({},t,{isVisible:e.isVisible});case"CHECKOUT_REQUEST":return m;case"CHECKOUT_FAILURE":return e.cart;default:return{isVisible:t.isVisible,addedIds:p(t,e),quantityById:y(t.quantityById,e)}}},_=Object(i.c)({byId:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_PRODUCTS":return Object(d.a)({},t,e.products.reduce(function(t,e){return e.initialInventory=e.inventory,t[e.id]=e,t},{}));case"CHECKOUT_SUCCESS":for(var n in t)t[n].initialInventory=t[n].inventory;return t;default:var a=e.productId;return a?Object(d.a)({},t,Object(l.a)({},a,function(t,e){switch(e.type){case"ADD_TO_CART":return Object(d.a)({},t,{inventory:t.inventory-1});case"REMOVE_FROM_CART":return Object(d.a)({},t,{inventory:t.inventory<t.initialInventory?t.inventory+1:t.inventory});case"UPDATE_CART_QUANTITY":return Object(d.a)({},t,{inventory:t.initialInventory-e.quantity});default:return t}}(t[a],e))):t}},visibleIds:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_PRODUCTS":return e.products.map(function(t){return t.id});default:return t}}}),f=function(t,e){return t.byId[e]},E=function(t){return t.visibleIds.map(function(e){return f(t,e)})},b=Object(i.c)({cart:C,products:_}),I=function(t){return function(t){return t.isVisible}(t.cart)},T=function(t){return function(t){return t.addedIds}(t.cart)},O=function(t,e){return v(t.cart,e)},h=function(t,e){return f(t.products,e)},N=function(t){return T(t).reduce(function(e,n){return e+h(t,n).price*O(t,n)},0).toFixed(2)},R=function(t){return T(t).map(function(e){return Object(d.a)({},h(t,e),{quantity:O(t,e)})})},A=n(92),g=function(t,e){return setTimeout(function(){return t(A)},e||100)},k=function(t,e,n){return setTimeout(function(){return e()},n||100)},V=function(t){return{type:"SET_CART_VISIBILITY",isVisible:t}},U=function(t){return function(e,n){n().products.byId[t].inventory>0&&e(function(t){return{type:"ADD_TO_CART",productId:t}}(t))}},j=(n(189),"button--secondary"),D="button--roundedLeft",B="button--roundedRight",M=function(t){return r.a.createElement("button",{className:"".concat(t.className," button ").concat(t.type," ").concat(t.style).trim(),onClick:t.onClick,disabled:t.disabled?"disabled":void 0},t.children)};M.defaultProps={className:"",type:"button--primary",style:"button--rounded"};var S=M,w=(n(191),function(t){var e=t.product,n=t.addButton,a=t.removeButton,c=t.onAddToCartClicked,i=t.onRemoveFromCartClicked,o=t.onCartQuantityChanged;return r.a.createElement("div",{className:"productItem"},r.a.createElement("img",{className:"productItem__photo",src:"/img/".concat(e.title.toLowerCase(),".png"),alt:""}),r.a.createElement("div",{className:"productItem__container"},r.a.createElement("div",{className:"productItem__topContainer"},r.a.createElement("h2",{className:"productItem__title"},e.title),r.a.createElement("p",{className:"productItem__price"},"$",e.price)),r.a.createElement("div",{className:"productItem__bottomContainer"},r.a.createElement("p",{className:"productItem__inventory"},e.inventory," ","REMAINING"),r.a.createElement("div",{className:"productItem__actionsContainer"},!!i&&r.a.createElement(S,{className:"productItem__remove",type:a.type,style:a.style,onClick:i,disabled:e.inventory>=e.initialInventory},!!a.label&&a.label||"REMOVE FROM CART"),!!o&&r.a.createElement("input",{className:"productItem__quantity",onClick:function(t){return t.target.select()},onChange:function(t){return o(parseInt(t.target.value,10))},value:e.initialInventory-e.inventory}),!!c&&r.a.createElement(S,{className:"productItem__add",type:n.type,style:n.style,onClick:c,disabled:e.inventory<=0},!!n.label&&n.label||(e.inventory>0?"ADD TO CART":"SOLD OUT"))))))});w.defaultProps={addButton:{},removeButton:{}};var q=w,F=Object(o.b)(function(t){return{products:E(t.products)}},{addToCart:U})(function(t){var e=t.products,n=t.addToCart;return r.a.createElement("div",null,e.map(function(t){return r.a.createElement(q,{key:t.id,product:t,onAddToCartClicked:function(){return n(t.id)}})}))}),P=(n(193),function(t){var e=t.products,n=t.addButton,a=t.removeButton,c=t.total,i=t.onAddToCartClicked,o=t.onRemoveFromCartClicked,u=t.onCartQuantityChanged,d=t.onCheckoutClicked;return r.a.createElement("div",{className:"cart"},r.a.createElement("h3",{className:"cart__name"},"Your Cart"),r.a.createElement("hr",{className:"cart__divider"}),e.length>0&&r.a.createElement("div",null,r.a.createElement("div",null,e.map(function(t){return r.a.createElement(q,{key:t.id,product:t,addButton:n,removeButton:a,onAddToCartClicked:function(){return i(t.id)},onRemoveFromCartClicked:function(){return o(t.id)},onCartQuantityChanged:function(e){return u(t.id,e)}})})),r.a.createElement("hr",{className:"cart__divider"}),r.a.createElement("div",{className:"cart__totalContainer"},r.a.createElement("p",{className:"cart__totalLabel"},"Total:"),r.a.createElement("p",{className:"cart__totalPrice"},"$",c)),r.a.createElement(S,{className:"cart__checkout",onClick:d,disabled:e.length<=0},"CHECKOUT")),!e.length&&r.a.createElement("div",{className:"cart__emptyContainer"},r.a.createElement("img",{className:"cart__emptyIcon",src:"img/cart-gray.svg",alt:""}),r.a.createElement("p",{className:"cart__emptyTip"},"Please add some products to your cart.")))}),Q=(n(195),function(t){var e,n=t.isVisible,a=t.products,c=t.total,i=t.addToCart,o=t.removeFromCart,u=t.updateCartQuantity,d=t.checkout,l=t.setCartVisibility;return e=!n,document.body.style.overflow=e?"":"hidden",n&&r.a.createElement("div",{className:"cartModal",onClick:function(t){return t.target.classList.contains("cartModal")&&l(!1)}},r.a.createElement("div",{className:"cartModal__container"},r.a.createElement("div",{className:"cartModal__contents"},r.a.createElement("img",{className:"cartModal__closeIcon",src:"img/close-icon.svg",onClick:function(){return l(!1)},alt:""}),r.a.createElement(P,{products:a,removeButton:{type:j,style:D,label:"\u2013"},addButton:{type:j,style:B,label:"+"},total:c,onAddToCartClicked:i,onRemoveFromCartClicked:o,onCartQuantityChanged:u,onCheckoutClicked:function(){return d(a)}}))))});Q.defaultProps={isVisible:!1};var Y=Object(o.b)(function(t){return{isVisible:I(t),products:R(t),total:N(t)}},{addToCart:U,removeFromCart:function(t){return function(e,n){var a=n().products.byId[t];a.inventory<a.initialInventory&&e(function(t){return{type:"REMOVE_FROM_CART",productId:t}}(t))}},updateCartQuantity:function(t,e){return function(n,a){var r=a().products.byId[t].initialInventory;e=Number.isNaN(e)||e<=0?0:e>r?r:e,n(function(t,e){return{type:"UPDATE_CART_QUANTITY",productId:t,quantity:e}}(t,e))}},checkout:function(t){return function(e,n){var a=n().cart;e({type:"CHECKOUT_REQUEST"}),k(t,function(){e({type:"CHECKOUT_SUCCESS",cart:a})})}},setCartVisibility:V})(Q),L=(n(197),Object(o.b)(function(t){return{products:R(t)}},{setCartVisibility:V})(function(t){var e=t.products,n=t.setCartVisibility;return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"app__header"},r.a.createElement("h1",{className:"app__storeName"},"Acme Store"),r.a.createElement("p",{className:"app__cart",onClick:function(){return n(!0)}},r.a.createElement("img",{className:"app__cartIcon",src:"/img/cart-black.svg",alt:""}),e.length>0?"Your cart has items":"Your cart is empty")),r.a.createElement("hr",{className:"app__divider"}),r.a.createElement(F,null),r.a.createElement(Y,null))})),H=[u.a];var K=Object(i.d)(b,i.a.apply(void 0,H));K.dispatch(function(t){g(function(e){t(function(t){return{type:"RECEIVE_PRODUCTS",products:t}}(e))})}),Object(c.render)(r.a.createElement(o.a,{store:K},r.a.createElement(L,null)),document.getElementById("root"))},92:function(t){t.exports=[{id:1,title:"Chronograph",price:500.01,inventory:2},{id:2,title:"Quartz",price:10.99,inventory:10},{id:3,title:"Weekender",price:19.99,inventory:5}]},94:function(t,e,n){t.exports=n(199)}},[[94,2,1]]]);
//# sourceMappingURL=main.a122e324.chunk.js.map